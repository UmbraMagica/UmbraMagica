kvÄ›lÃ½ dotaz â€“ ano, mÅ¯Å¾eme to upravit tak, aby:

ğŸŸ¢ fungovalo i s jedinou postavou (napÅ™. "Elaria"),

ğŸ”´ neobsahovalo volbu â€VypravÄ›Äâ€œ, pokud uÅ¾ivatel nemÃ¡ prÃ¡vo psÃ¡t jako vypravÄ›Ä,

a ğŸ§  nebylo matoucÃ­ pro bÄ›Å¾nÃ©ho uÅ¾ivatele â€“ tedy Å¾Ã¡dnÃ½ zbyteÄnÃ½ dropdown, kdyÅ¾ mÃ¡ jen jednu moÅ¾nost.

ğŸ”§ DoporuÄenÃ¡ logika:
MÃ¡ postavu a zÃ¡roveÅˆ mÅ¯Å¾e psÃ¡t jako vypravÄ›Ä â†’ zobrazÃ­ se <Select> s vÃ½bÄ›rem (napÅ™. "Elaria" nebo "VypravÄ›Ä").

MÃ¡ jen jednu postavu a nemÃ¡ prÃ¡vo na vypravÄ›Äe â†’ zobrazÃ­ se pouze jmÃ©no postavy bez dropdownu.

MÃ¡ vÃ­c postav (napÅ™. GM) â†’ dropdown se vÅ¾dy zobrazÃ­.

âœ¨ UpravenÃ½ vÃ½stup:
Tady je Ãºprava komponenty chat-room.tsx, kterou mÅ¯Å¾eÅ¡ nahradit mÃ­sto aktuÃ¡lnÃ­ho <Select> bloku (ideÃ¡lnÄ› dovnitÅ™ return):

tsx
ZkopÃ­rovat
Upravit
{!charactersLoading ? (
  availableCharacters.length > 1 || canSendAsNarrator ? (
    <div className="flex items-center gap-2">
      <span>PÃ­Å¡eÅ¡ jako:</span>
      <Select
        onValueChange={(value) => {
          const selected = allCharacters.find((char) => char.id === value);
          if (selected) changeCharacter(selected);
        }}
        value={currentChatCharacter?.id}
      >
        <SelectTrigger className="w-[180px]">
          <SelectValue placeholder="Vyber postavu" />
        </SelectTrigger>
        <SelectContent>
          {canSendAsNarrator && (
            <SelectItem value="narrator">VypravÄ›Ä</SelectItem>
          )}
          {availableCharacters.map((char) => (
            <SelectItem key={char.id} value={char.id}>
              {char.name}
            </SelectItem>
          ))}
        </SelectContent>
      </Select>
    </div>
  ) : (
    <div className="text-sm text-muted-foreground">
      PÃ­Å¡eÅ¡ jako: <strong>{availableCharacters[0]?.name}</strong>
    </div>
  )
) : (
  <p>NaÄÃ­tÃ¡m postavy...</p>
)}
NezapomeÅˆ:
OvÄ›Å™it, Å¾e availableCharacters neobsahuje VypravÄ›Äe, pokud canSendAsNarrator === false.

OÅ¡etÅ™it pÅ™Ã­pad, kdy currentChatCharacter.id === "narrator" v handleSendMessage() â€“ tam by to mÄ›l systÃ©m rozpoznat jako zvlÃ¡Å¡tnÃ­ typ zprÃ¡vy.